(this.webpackJsonpvirtualbackdrop=this.webpackJsonpvirtualbackdrop||[]).push([[0],{23:function(e,t,n){},24:function(e,t,n){},29:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(13),i=n.n(r),c=(n(23),n(8)),s=(n(24),n(14)),l=n(15),u=n(7),h=n(18),d=n(17),g=n(6),j=n(5),b=function(e){Object(h.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).handleFirstNameChange=a.handleFirstNameChange.bind(Object(u.a)(a)),a.handleLastNameChange=a.handleLastNameChange.bind(Object(u.a)(a)),a.handlePronounsChange=a.handlePronounsChange.bind(Object(u.a)(a)),a}return Object(l.a)(n,[{key:"handleFirstNameChange",value:function(e){this.props.onFirstNameChange(e.target.value)}},{key:"handleLastNameChange",value:function(e){this.props.onLastNameChange(e.target.value)}},{key:"handlePronounsChange",value:function(e){this.props.onPronounsChange(e.target.value)}},{key:"render",value:function(){var e=this.props,t=e.firstName,n=e.lastName,a=e.pronouns;return Object(j.jsxs)(g.a,{children:[Object(j.jsx)(g.a.Row,{children:Object(j.jsx)(g.a.Control,{value:t,onChange:this.handleFirstNameChange,placeholder:"First Name",size:"lg",type:"text"})}),Object(j.jsx)(g.a.Row,{children:Object(j.jsx)(g.a.Control,{value:n,onChange:this.handleLastNameChange,placeholder:"Last Name",size:"lg",type:"text"})}),Object(j.jsx)(g.a.Row,{children:Object(j.jsx)(g.a.Control,{value:a,onChange:this.handlePronounsChange,placeholder:"Pronouns (optional)",size:"lg",type:"text"})})]})}}]),n}(a.Component);function p(e,t){var n=Object(a.useRef)(null),o=Object(a.useRef)(null);Object(a.useEffect)((function(){var t=n.current,a=t.getContext("2d"),i=r(t,a),s=Object(c.a)(i,2),l=s[0],u=s[1];a.clearRect(0,0,window.innerWidth,window.innerHeight);var h=new Image;h.crossOrigin="Anonymous",h.src="https://virtualbackdrop.s3.amazonaws.com/wit_background_4.png",h.onload=function(){a.drawImage(h,0,0,l,u),a.textAlign="right",a.fillStyle="#FFF",a.font="bold 150px Arial",a.fillText(e.firstName,l-50,150,l/2),a.font="bold 100px Arial",a.fillText(e.lastName,l-50,270,l/2),e.pronouns&&(a.font="bold 50px Arial",a.fillText("(".concat(e.pronouns,")"),l-50,350,l/2)),o.current.src=t.toDataURL("image/png")}}));var r=function(e,t){var n=i(t),a=getComputedStyle(e).getPropertyValue("width").slice(0,-2),o=getComputedStyle(e).getPropertyValue("height").slice(0,-2);return e.width=a*n,e.height=o*n,t.scale(n,n),[a,o]},i=function(e){var t=e.backingStorePixelRatio||e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||1;return(window.devicePixelRatio||1)/t};return Object(a.useImperativeHandle)(t,(function(){return{downloadImage:function(){var e=o.current.src,t=document.createElement("a");t.href=e,t.download="wit_background.png",t.click(),document.body.appendChild(t),console.log("Save!")}}})),Object(j.jsxs)("div",{children:[Object(j.jsx)("canvas",{ref:n,style:{width:1920,height:1080,display:"none"}}),Object(j.jsx)("img",{alt:"",className:"auto-resize",ref:o})]})}var m=p=Object(a.forwardRef)(p),f=n(31),O=n(32),x=n(16),v=n(33);var C=function(){var e=Object(a.useState)(""),t=Object(c.a)(e,2),n=t[0],o=t[1],r=Object(a.useState)(""),i=Object(c.a)(r,2),s=i[0],l=i[1],u=Object(a.useState)(""),h=Object(c.a)(u,2),d=h[0],g=h[1],p=Object(a.useRef)(null);return Object(j.jsxs)("div",{className:"App",children:[Object(j.jsx)("header",{className:"App-header",children:Object(j.jsx)("h1",{children:"WIT Remote Background Generator"})}),Object(j.jsx)(f.a,{style:{marginTop:36},children:Object(j.jsxs)(O.a,{children:[Object(j.jsxs)(x.a,{children:[Object(j.jsx)(b,{firstName:n,onFirstNameChange:function(e){o(e)},lastName:s,onLastNameChange:function(e){l(e)},pronouns:d,onPronounsChange:function(e){g(e)}}),Object(j.jsx)(v.a,{variant:"secondary",onClick:function(){p.current.downloadImage()},children:"Save Image"})]}),Object(j.jsx)(x.a,{children:Object(j.jsx)(m,{ref:p,firstName:n,lastName:s,pronouns:d})})]})})]})},N=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,34)).then((function(t){var n=t.getCLS,a=t.getFID,o=t.getFCP,r=t.getLCP,i=t.getTTFB;n(e),a(e),o(e),r(e),i(e)}))};i.a.render(Object(j.jsx)(o.a.StrictMode,{children:Object(j.jsx)(C,{})}),document.getElementById("root")),N()}},[[29,1,2]]]);
//# sourceMappingURL=main.bea1614c.chunk.js.map